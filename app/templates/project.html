{% extends "model.html" %}

{% block extended_head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/custom_paper.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/paper.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/project.css') }}">
<script src="{{ url_for('static', filename='js/add_get_papers.js') }}"></script>
<script src="{{ url_for('static', filename='js/description_changer.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/paper_start.js') }}" defer></script>
{% endblock extended_head %}

{% block dynamic_content %}
<div class="headline">
    <svg width="33" height="27" viewBox="0 0 33 27" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M22.0014 27H24.7516C25.4048 27 26.0064 26.6384 26.333 26.0417L32.75 14.4703C33.0824 13.8737 33.0824 13.1384 32.7558 12.5357C32.4292 11.933 31.8276 11.5714 31.1687 11.5714H8.25054C7.59737 11.5714 6.99577 11.933 6.66918 12.5297L2.75018 19.5931V3.85714C2.75018 3.32679 3.16271 2.89286 3.6669 2.89286H10.3991C10.6398 2.89286 10.8747 2.99531 11.0466 3.17612L12.5649 4.77321C13.7681 6.03884 15.401 6.75 17.1027 6.75H23.8349C24.3391 6.75 24.7516 7.18393 24.7516 7.71429V9.64286H27.5018V7.71429C27.5018 5.58683 25.8574 3.85714 23.8349 3.85714H17.1027C16.1287 3.85714 15.1947 3.45335 14.5072 2.73013L12.9889 1.12701C12.3013 0.403795 11.3674 0 10.3934 0H3.6669C1.64438 0 0 1.72969 0 3.85714V23.1429C0 25.2703 1.64438 27 3.6669 27H5.02481H22.0014Z" fill="#3D6C8D"/>
    </svg>   
    <h1>{{ project.project_name }}</h1>
</div>


<div class="h3-container">
    <h3>Your description</h3>
    <div data-tooltip="Edit">
        <svg id="edit-svg" class="change_desc" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.3596 2.16405L17.8359 2.64036C18.206 3.01038 18.206 3.60872 17.8359 3.97481L16.6904 5.12424L14.8758 3.30955L16.0213 2.16405C16.3913 1.79403 16.9896 1.79403 17.3557 2.16405H17.3596ZM8.25862 9.93062L13.5413 4.644L15.356 6.45869L10.0694 11.7414C9.95522 11.8555 9.81351 11.9382 9.65999 11.9815L7.35718 12.6389L8.01457 10.3361C8.05787 10.1826 8.14053 10.0408 8.25469 9.92668L8.25862 9.93062ZM14.6868 0.829602L6.92024 8.59224C6.57777 8.9347 6.32977 9.3559 6.19987 9.81646L5.07405 13.7529C4.97958 14.0836 5.07012 14.4378 5.31418 14.6819C5.55823 14.9259 5.91251 15.0165 6.24317 14.922L10.1796 13.7962C10.6441 13.6624 11.0653 13.4144 11.4038 13.0758L19.1704 5.31319C20.2765 4.20706 20.2765 2.41205 19.1704 1.30591L18.6941 0.829602C17.588 -0.276534 15.7929 -0.276534 14.6868 0.829602ZM3.46406 2.36481C1.55095 2.36481 0 3.91576 0 5.82886V16.5359C0 18.449 1.55095 20 3.46406 20H14.1711C16.0842 20 17.6352 18.449 17.6352 16.5359V12.1271C17.6352 11.6036 17.214 11.1824 16.6904 11.1824C16.1669 11.1824 15.7457 11.6036 15.7457 12.1271V16.5359C15.7457 17.4059 15.0411 18.1105 14.1711 18.1105H3.46406C2.59411 18.1105 1.88948 17.4059 1.88948 16.5359V5.82886C1.88948 4.95891 2.59411 4.25429 3.46406 4.25429H7.87285C8.3964 4.25429 8.8176 3.8331 8.8176 3.30955C8.8176 2.78601 8.3964 2.36481 7.87285 2.36481H3.46406Z" fill="#3D6C8D"/>
        </svg>
        <svg class="change_desc" id="save-svg" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.21652 2.14286C2.82366 2.14286 2.50223 2.46429 2.50223 2.85714V17.1429C2.50223 17.5357 2.82366 17.8571 3.21652 17.8571H17.5022C17.8951 17.8571 18.2165 17.5357 18.2165 17.1429V2.85714C18.2165 2.46429 17.8951 2.14286 17.5022 2.14286H3.21652ZM0.359375 2.85714C0.359375 1.28125 1.64063 0 3.21652 0H17.5022C19.0781 0 20.3594 1.28125 20.3594 2.85714V17.1429C20.3594 18.7188 19.0781 20 17.5022 20H3.21652C1.64063 20 0.359375 18.7188 0.359375 17.1429V2.85714ZM15.404 7.90179L9.68973 13.6161C9.27009 14.0357 8.59152 14.0357 8.17634 13.6161L5.3192 10.7589C4.89955 10.3393 4.89955 9.66072 5.3192 9.24554C5.73884 8.83036 6.41741 8.82589 6.83259 9.24554L8.9308 11.3438L13.8862 6.38393C14.3058 5.96429 14.9844 5.96429 15.3996 6.38393C15.8147 6.80357 15.8192 7.48214 15.3996 7.89732L15.404 7.90179Z" fill="#3D6C8D"/>
        </svg>
    </div>
</div>
<p id="citation">{{ project.description }}</p>
<div id="description-container">
    {{ form.csrf_token }}
    {{ form.description }}
</div>

<main>
    <div class="left-part">
        <h3 class="big-margin">Interesting papers that we found for you</h3>
        <div>
            {% for paper in project.found_papers  %}
                <div class="found-paper">
                    <span>{{ paper.title }}</span>
                    <div class="icon-container">
                        <svg class="select-paper" width="20" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="2" y="2" width="32" height="32" rx="16" stroke="#3D6C8D" stroke-width="4"/>
                            <rect x="16.5645" y="10.1595" width="3.09202" height="15.4601" rx="1.54601" fill="#3D6C8D"/>
                            <rect x="10.3809" y="19.4356" width="3.09202" height="15.4601" rx="1.54601" transform="rotate(-90 10.3809 19.4356)" fill="#3D6C8D"/>
                        </svg>
                        <svg width="16" height="30" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3.33333 24.5221C2.875 24.5221 2.5 24.1415 2.5 23.6765V3.38235C2.5 2.91728 2.875 2.53676 3.33333 2.53676H11.6667V6.76471C11.6667 7.70014 12.4115 8.45588 13.3333 8.45588H17.5V23.6765C17.5 24.1415 17.125 24.5221 16.6667 24.5221H3.33333ZM3.33333 0C1.49479 0 0 1.51677 0 3.38235V23.6765C0 25.542 1.49479 27.0588 3.33333 27.0588H16.6667C18.5052 27.0588 20 25.542 20 23.6765V8.16521C20 7.26677 19.651 6.40533 19.026 5.77114L14.3073 0.988281C13.6823 0.35409 12.8385 0 11.9531 0H3.33333ZM6.25 13.5294C5.55729 13.5294 5 14.0949 5 14.7978C5 15.5007 5.55729 16.0662 6.25 16.0662H13.75C14.4427 16.0662 15 15.5007 15 14.7978C15 14.0949 14.4427 13.5294 13.75 13.5294H6.25ZM6.25 18.6029C5.55729 18.6029 5 19.1684 5 19.8713C5 20.5742 5.55729 21.1397 6.25 21.1397H13.75C14.4427 21.1397 15 20.5742 15 19.8713C15 19.1684 14.4427 18.6029 13.75 18.6029H6.25Z" fill="#3D6C8D"/>
                        </svg>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="btns">
            <span class="prim-btn">Check usefullness</span>
            <span class="sec-btn">Show more</span>
        </div>
    </div>
    <div class="right-part">
        <h3 class="big-margin">Your literature</h3>
        <div>
            {% for paper in project.saved_papers  %}
                <div class="found-paper">
                    <span>{{ paper.title }}</span>
                    <div class="icon-container">
                        <svg class="deselect-paper" width="20" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="2" y="2" width="32" height="32" rx="16" stroke="#3D6C8D" stroke-width="4"/>
                            <rect x="10.3809" y="19.4356" width="3.09202" height="15.4601" rx="1.54601" transform="rotate(-90 10.3809 19.4356)" fill="#3D6C8D"/>
                        </svg>
                        <svg width="16" height="30" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3.33333 24.5221C2.875 24.5221 2.5 24.1415 2.5 23.6765V3.38235C2.5 2.91728 2.875 2.53676 3.33333 2.53676H11.6667V6.76471C11.6667 7.70014 12.4115 8.45588 13.3333 8.45588H17.5V23.6765C17.5 24.1415 17.125 24.5221 16.6667 24.5221H3.33333ZM3.33333 0C1.49479 0 0 1.51677 0 3.38235V23.6765C0 25.542 1.49479 27.0588 3.33333 27.0588H16.6667C18.5052 27.0588 20 25.542 20 23.6765V8.16521C20 7.26677 19.651 6.40533 19.026 5.77114L14.3073 0.988281C13.6823 0.35409 12.8385 0 11.9531 0H3.33333ZM6.25 13.5294C5.55729 13.5294 5 14.0949 5 14.7978C5 15.5007 5.55729 16.0662 6.25 16.0662H13.75C14.4427 16.0662 15 15.5007 15 14.7978C15 14.0949 14.4427 13.5294 13.75 13.5294H6.25ZM6.25 18.6029C5.55729 18.6029 5 19.1684 5 19.8713C5 20.5742 5.55729 21.1397 6.25 21.1397H13.75C14.4427 21.1397 15 20.5742 15 19.8713C15 19.1684 14.4427 18.6029 13.75 18.6029H6.25Z" fill="#3D6C8D"/>
                        </svg>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="h3-container">
            <h3>Cite this project</h3>
            <div data-tooltip="Copy to clipboard">
                <svg class="copy-icon" id="copy-citation" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.5 1.875H8.75C8.40625 1.875 8.125 2.15625 8.125 2.5V5H6.25V2.5C6.25 1.12109 7.37109 0 8.75 0H17.5C18.8789 0 20 1.12109 20 2.5L20 11.25C20 12.6289 18.8789 13.75 17.5 13.75H15V11.875H17.5C17.8438 11.875 18.125 11.5938 18.125 11.25L18.125 2.5C18.125 2.15625 17.8438 1.875 17.5 1.875ZM11.25 8.125H2.5C2.15625 8.125 1.875 8.40625 1.875 8.75V17.5C1.875 17.8437 2.15625 18.125 2.5 18.125L11.25 18.125C11.5938 18.125 11.875 17.8438 11.875 17.5L11.875 8.75C11.875 8.40625 11.5938 8.125 11.25 8.125ZM13.75 8.75L13.75 17.5C13.75 18.8789 12.6289 20 11.25 20L2.5 20C1.12109 20 0 18.8789 0 17.5V8.75C0 7.37109 1.12109 6.25 2.5 6.25H11.25C12.6289 6.25 13.75 7.37109 13.75 8.75Z" fill="#3D6C8D"/>
                </svg>
            </div>
        </div>
    </div>
</main>

<div class="actions-container">
    <div>
        <div class="h3-container">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.419 0.646606L12.2262 2.8433L17.155 7.77207L19.3477 5.57932C20.2099 4.71717 20.2099 3.32358 19.3477 2.46143L17.5368 0.646606C16.6747 -0.215535 15.2811 -0.215535 14.419 0.646606ZM11.2538 3.65032L10.8916 3.76055L5.21884 5.46121C4.43543 5.69742 3.81343 6.2958 3.5536 7.07527L0.0656702 17.4761C-0.0839252 17.9209 0.026303 18.417 0.353051 18.7516L6.39985 12.7087C6.28175 12.4607 6.21483 12.1851 6.21483 11.8938C6.21483 10.8506 7.06122 10.0042 8.10445 10.0042C9.14768 10.0042 9.99408 10.8506 9.99408 11.8938C9.99408 12.937 9.14768 13.7834 8.10445 13.7834C7.81314 13.7834 7.53757 13.7165 7.28955 13.5984L1.24275 19.6452C1.58131 19.972 2.0734 20.0861 2.51825 19.9326L12.923 16.4447C13.6985 16.1848 14.3009 15.5628 14.5371 14.7794L16.2377 9.10662L16.3479 8.74444L11.2538 3.65032Z" fill="#5B9CCB"/>
            </svg>
            <h3>Write your paper with the Quicklit Editor</h3>
        </div>
        <p class="action-desc">
            Get recommended papers to cite in real-time as you are writing your paper! We also got you covered in regards to formatting.
        </p>
        {% if editor_paper %}
        <a href="{{ url_for('editor', paper_token=editor_paper.token) }}" target="_blank" style="text-decoration: none;">
        <div class="found-paper">
            <span>{{ editor_paper.title }}</span>
            <div class="icon-container" data-tooltip="Open in new tab">
                <svg width="16" height="16" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.5 0C11.8086 0 11.25 0.558594 11.25 1.25C11.25 1.94141 11.8086 2.5 12.5 2.5H15.7305L7.86719 10.3672C7.37891 10.8555 7.37891 11.6484 7.86719 12.1367C8.35547 12.625 9.14844 12.625 9.63672 12.1367L17.5 4.26953V7.5C17.5 8.19141 18.0586 8.75 18.75 8.75C19.4414 8.75 20 8.19141 20 7.5V1.25C20 0.558594 19.4414 0 18.75 0H12.5ZM3.125 1.25C1.39844 1.25 0 2.64844 0 4.375V16.875C0 18.6016 1.39844 20 3.125 20H15.625C17.3516 20 18.75 18.6016 18.75 16.875V12.5C18.75 11.8086 18.1914 11.25 17.5 11.25C16.8086 11.25 16.25 11.8086 16.25 12.5V16.875C16.25 17.2188 15.9688 17.5 15.625 17.5H3.125C2.78125 17.5 2.5 17.2188 2.5 16.875V4.375C2.5 4.03125 2.78125 3.75 3.125 3.75H7.5C8.19141 3.75 8.75 3.19141 8.75 2.5C8.75 1.80859 8.19141 1.25 7.5 1.25H3.125Z" fill="#3D6C8D"/>
                </svg>
            </div>
        </div>
        </a>
        {% else %}
        <span class="prim-btn" id="start-paper-btn">Start writing</span>
        {% endif %}
    </div>
    <div>
        <div class="h3-container">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.85714 0C1.28125 0 0 1.28125 0 2.85714V17.1429C0 18.7188 1.28125 20 2.85714 20H17.1429C18.7188 20 20 18.7188 20 17.1429V2.85714C20 1.28125 18.7188 0 17.1429 0H2.85714ZM5.71429 8.57143C6.50446 8.57143 7.14286 9.20982 7.14286 10V14.2857C7.14286 15.0759 6.50446 15.7143 5.71429 15.7143C4.92411 15.7143 4.28571 15.0759 4.28571 14.2857V10C4.28571 9.20982 4.92411 8.57143 5.71429 8.57143ZM8.57143 5.71429C8.57143 4.92411 9.20982 4.28571 10 4.28571C10.7902 4.28571 11.4286 4.92411 11.4286 5.71429V14.2857C11.4286 15.0759 10.7902 15.7143 10 15.7143C9.20982 15.7143 8.57143 15.0759 8.57143 14.2857V5.71429ZM14.2857 11.4286C15.0759 11.4286 15.7143 12.067 15.7143 12.8571V14.2857C15.7143 15.0759 15.0759 15.7143 14.2857 15.7143C13.4955 15.7143 12.8571 15.0759 12.8571 14.2857V12.8571C12.8571 12.067 13.4955 11.4286 14.2857 11.4286Z" fill="#5B9CCB"/>
            </svg>
            <h3>Create a survey with Quicklit </h3>
        </div>
        <p class="action-desc">
            Make your own quantitative findings and analyse them easily with Quicklit’s built-in data analysis tool. 
        </p>
        <span class="prim-btn">Create survey</span>
    </div>
</div>

<script>
    var projectName = "{{ project.project_name }}"
</script>
{% endblock dynamic_content %}