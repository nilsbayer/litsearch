{% extends "model.html" %}

{% block extended_head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/custom_paper.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/paper.css') }}">
<script src="{{ url_for('static', filename='js/copy.js') }}" defer></script>
{% endblock extended_head %}

{% block dynamic_content %}
    <div class="headline">
        <svg width="30" height="30" viewBox="0 0 20 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.33333 24.5221C2.875 24.5221 2.5 24.1415 2.5 23.6765V3.38235C2.5 2.91728 2.875 2.53676 3.33333 2.53676H11.6667V6.76471C11.6667 7.70014 12.4115 8.45588 13.3333 8.45588H17.5V23.6765C17.5 24.1415 17.125 24.5221 16.6667 24.5221H3.33333ZM3.33333 0C1.49479 0 0 1.51677 0 3.38235V23.6765C0 25.542 1.49479 27.0588 3.33333 27.0588H16.6667C18.5052 27.0588 20 25.542 20 23.6765V8.16521C20 7.26677 19.651 6.40533 19.026 5.77114L14.3073 0.988281C13.6823 0.35409 12.8385 0 11.9531 0H3.33333ZM6.25 13.5294C5.55729 13.5294 5 14.0949 5 14.7978C5 15.5007 5.55729 16.0662 6.25 16.0662H13.75C14.4427 16.0662 15 15.5007 15 14.7978C15 14.0949 14.4427 13.5294 13.75 13.5294H6.25ZM6.25 18.6029C5.55729 18.6029 5 19.1684 5 19.8713C5 20.5742 5.55729 21.1397 6.25 21.1397H13.75C14.4427 21.1397 15 20.5742 15 19.8713C15 19.1684 14.4427 18.6029 13.75 18.6029H6.25Z" fill="#3D6C8D"/>
        </svg>
        <h1>{{ paper.title }}</h1>
    </div>

    <main>
        <div class="left-part">
            <div class="h3-container">
                <h3>Summary</h3>
                <svg class="copy-icon" id="copy-summary" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.5 1.875H8.75C8.40625 1.875 8.125 2.15625 8.125 2.5V5H6.25V2.5C6.25 1.12109 7.37109 0 8.75 0H17.5C18.8789 0 20 1.12109 20 2.5L20 11.25C20 12.6289 18.8789 13.75 17.5 13.75H15V11.875H17.5C17.8438 11.875 18.125 11.5938 18.125 11.25L18.125 2.5C18.125 2.15625 17.8438 1.875 17.5 1.875ZM11.25 8.125H2.5C2.15625 8.125 1.875 8.40625 1.875 8.75V17.5C1.875 17.8437 2.15625 18.125 2.5 18.125L11.25 18.125C11.5938 18.125 11.875 17.8438 11.875 17.5L11.875 8.75C11.875 8.40625 11.5938 8.125 11.25 8.125ZM13.75 8.75L13.75 17.5C13.75 18.8789 12.6289 20 11.25 20L2.5 20C1.12109 20 0 18.8789 0 17.5V8.75C0 7.37109 1.12109 6.25 2.5 6.25H11.25C12.6289 6.25 13.75 7.37109 13.75 8.75Z" fill="#3D6C8D"/>
                </svg>
            </div>
            <p id="summary">
                {{ paper.summary }}
            </p>
            <span style="margin-top: 1rem; display:block" class="sec-btn">Add to a project</span>
            <div class="h3-container">
                <h3>Cite this paper</h3>
                <svg class="copy-icon" id="copy-citation" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.5 1.875H8.75C8.40625 1.875 8.125 2.15625 8.125 2.5V5H6.25V2.5C6.25 1.12109 7.37109 0 8.75 0H17.5C18.8789 0 20 1.12109 20 2.5L20 11.25C20 12.6289 18.8789 13.75 17.5 13.75H15V11.875H17.5C17.8438 11.875 18.125 11.5938 18.125 11.25L18.125 2.5C18.125 2.15625 17.8438 1.875 17.5 1.875ZM11.25 8.125H2.5C2.15625 8.125 1.875 8.40625 1.875 8.75V17.5C1.875 17.8437 2.15625 18.125 2.5 18.125L11.25 18.125C11.5938 18.125 11.875 17.8438 11.875 17.5L11.875 8.75C11.875 8.40625 11.5938 8.125 11.25 8.125ZM13.75 8.75L13.75 17.5C13.75 18.8789 12.6289 20 11.25 20L2.5 20C1.12109 20 0 18.8789 0 17.5V8.75C0 7.37109 1.12109 6.25 2.5 6.25H11.25C12.6289 6.25 13.75 7.37109 13.75 8.75Z" fill="#3D6C8D"/>
                </svg>
            </div>
            <p id="citation">{{ paper.APA_citation }}</p>
            <h3 class="big-margin">Find a paragraph by subject</h3>
            <input type="text" id="subject-finder" placeholder="Enter a subject ...">
            <div id="loading-div">
                <div class="loading-circle"></div>
            </div>
            <p id="subject-result"></p>
        </div>
        <div class="right-part">
            <h3>Identified topics</h3>
            <div>
                {% for tag in paper.tags %}
                    <span class="tag">{{ tag }}</span>
                {% endfor %}
            </div>
            <h3 class="big-margin">Similar papers</h3>
            <div><span>Impact of AI on humanity</span></div>
            <h3 class="big-margin">Open PDF in another tab</h3>
            <div><a target="_blank" href="{{ paper.url }}" class="sec-btn">Open PDF from {{ paper.pdf_provider }}</a></div>
        </div>
    </main>
{% endblock dynamic_content %}